$(function(){"use strict";function t(t){u=!u,t?u?($(".menu-toggle").addClass("menu-toggle--close").find("span").removeClass("fa-bars").addClass("fa-times"),$(".menu").removeClass("menu--hidden")):($(".menu-toggle").removeClass("menu-toggle--close").find("span").addClass("fa-bars").removeClass("fa-times"),$(".menu").addClass("menu--hidden")):u?($(".menu-toggle").addClass("menu-toggle--close").find("span").removeClass("fa-bars").addClass("fa-times"),$(".places").css("transform","translateX(0px)")):($(".menu-toggle").removeClass("menu-toggle--close").find("span").addClass("fa-bars").removeClass("fa-times"),$(".places").css("transform","translateX("+d+"px)"))}function e(){h=!h,h?($(".sidebar").css("transform","translateX(0px)"),"tablet"==c&&($(".places").css("transform","translateX("+g+"px)"),p=!1,$(".places-toggle-wrapper").addClass("active")),$(".mobile-header__btn--map").find("span").addClass("fa-map").removeClass("fa-list")):($(".sidebar").css("transform","translateX("+m+"px)"),$(".place-menu--fixed").removeClass("active"),$(".mobile-header__btn--map").find("span").addClass("fa-list").removeClass("fa-map"))}function a(){p=!p,p?($(".places").css("transform","translateX(0)"),$(".places-toggle-wrapper").removeClass("active")):($(".places").css("transform","translateX("+g+"px)"),$(".places-toggle-wrapper").addClass("active"))}function s(t){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],a=t.getDate(),s=t.getMonth(),i=t.getFullYear();return a+" "+e[s]+" "+i}function i(){$(".chat-windows").css("height",$(".chat-window.active").height())}function n(){$(".chat-contacts").css("maxHeight",$(window).height()-k-parseInt($(".chat").css("padding-top"),10)-$(".chat__header").outerHeight())}function o(){"desktop"==c?$(".chat-messages").css("height",$(window).height()-k-parseInt($(".chat").css("padding-top"),10)-$(".chat__header").outerHeight()-$(".chat-input").outerHeight()):$(".chat-messages").css("height",$(window).height()-k-parseInt($(".chat").css("padding-top"),10)-$(".chat__header").outerHeight()-$(".chat-input").outerHeight()-$(".chat-contacts").outerHeight()),i()}function l(){f=!f,f?$(".mobile-menu-toggle").find("span").removeClass("fa-bars").addClass("fa-times"):$(".mobile-menu-toggle").find("span").addClass("fa-bars").removeClass("fa-times")}function r(t,e,a){var s=Math.max.apply(null,$(t).map(function(){return $(this).outerHeight()}).get());a?$(e).outerHeight(s):$(e).height(s)}var c,d=$(".menu").outerWidth(),m=$(".overview").outerWidth(),g=$(".places").outerWidth(),u=!1,h=!1,p=!0,f=!1;$(window).width()>=1200?c="desktop":$(window).width()<1200&&$(window).width()>767?c="tablet":$(window).width()<=767&&(c="mobile"),setTimeout(function(){$(".sidebar").addClass("active"),$(".sidebar, .sidebar__item").css("transition","all .3s ease")},0),FastClick.attach(document.body),$(".select").length&&($(".select--dark").select2({minimumResultsForSearch:1/0,theme:"dark",templateResult:function(t,e){return t.id?(e.className+=" needsclick",t.text):t.text}}),$(".select--gray").select2({minimumResultsForSearch:1/0,theme:"gray",templateResult:function(t,e){return t.id?(e.className+=" needsclick",t.text):t.text}}));var v=$("select");if(v.each(function(t,e){$(e).data("select2").$container.find("*").addClass("needsclick")}),$(".overview").stellar({horizontalScrolling:!1,verticalOffset:0}),$(".event-view-info__countdown").length&&$(".event-view-info__countdown").countdown($(".event-view-info__countdown").attr("data-date"),function(t){$(".countdown-flip--days").html(t.strftime("%D")),$(".countdown-flip--hours").html(t.strftime("%H")),$(".countdown-flip--minutes").html(t.strftime("%M"))}),$(".lightbox").length&&$(".lightbox").lightbox(),$("#booking-form").length){var b={};b.time=$('input[name="booking-time"]:checked').next().text(),$(".booking-status__time").text($('input[name="booking-time"]:checked').next().text()),$('input[name="booking-time"]').change(function(){$(".booking-status__time").text($('input[name="booking-time"]:checked').next().text()),b.time=$('input[name="booking-time"]:checked').next().text()}),$(".booking-status__date").text(s(new Date));var w=new Pikaday({showDaysInNextAndPreviousMonths:!0,onSelect:function(t){$(".booking-status__date").text(s(t)),b.date=t}});$(".calendar").html(w.el);var C=$("#booking").attr("style");$("#booking").css({position:"absolute",visibility:"hidden",display:"block"}),$(".booking-screen-wrap").height($(".booking-screen.active").outerHeight()),$("#booking").attr("style",C?C:""),$("[data-booking-screen-refresh]").click(function(t){t.preventDefault(),"mobile"==c&&$(".modal.fade.in .modal-dialog-wrapper").animate({scrollTop:0},100),setTimeout(function(){$(".booking-screen-wrap").animate({height:$(".booking-screen.active").outerHeight()},100),$(".booking-steps").animate({scrollLeft:$(".booking-steps__item.active").offset().left+$(".booking-steps").scrollLeft()-10},100)},10)})}if($(".chat").length){var k="mobile"==c?0:60;$(window).load(function(){$("#chat").css({position:"absolute",visibility:"hidden",display:"block"}),n(),o(),$("#chat").attr("style",C?C:"")}),$(window).resize(function(){n(),o()}),"desktop"!=c&&$(".chat-contact").click(function(){setTimeout(function(){$(".chat-contacts").animate({scrollLeft:$(".chat-contact.active").position().left+$(".chat-contacts").scrollLeft()},100)},10)})}if($(".range").length){var x=$(".range"),_=x[0];noUiSlider.create(_,{connect:!0,range:{min:Number(x.attr("data-min")),max:Number(x.attr("data-max"))},step:Number(x.attr("data-step")),tooltips:!0,format:wNumb({decimals:0,thousand:"",postfix:x.attr("data-postfix")}),start:[Number(x.attr("data-start-1")),Number(x.attr("data-start-2"))]})}if($('[data-toggle="tooltip"]').tooltip(),"desktop"==c&&$(".places").css("transform","translateX("+d+"px)"),$(".sidebar").css("transform","translateX("+m+"px)"),"mobile"==c&&a(),$(".menu-toggle").click(function(){t($(this).hasClass("menu-toggle--overview"))}),$(".places-toggle").click(function(){a()}),"mobile"!=c?$(".overview").hasClass("active")&&e():($(".pin").click(function(){e()}),$(".overview").hasClass("overview--mobile-active")&&e()),$("[data-overview-toggle]").click(e),$(".mobile-menu-toggle").click(l),"mobile"==c){var y=new Hammer($("main")[0]);y.get("swipe").set({threshold:200,velocity:.3}),y.on("swiperight",function(t){l(),$(".mobile-menu").addClass("active")}),y.on("swipeleft",function(t){e()})}if($(".collapse-content").on("shown.bs.collapse",function(){if($(this).parents("section").is(":last-child")){var t=$(this).parents(".sidebar__item");t.animate({scrollTop:t.prop("scrollHeight")},300)}}),$("body").on("click",".modal",function(t){$(t.target).hasClass("modal-dialog")||$(t.target).parents(".modal-dialog").length||$(".modal").modal("hide")}),"desktop"==c&&$("body").on("click","main",function(t){$(".menu-toggle--overview").length?$(t.target).hasClass("menu")||$(t.target).parents(".menu").length||$(t.target).hasClass("menu-toggle")||$(t.target).parents(".menu-toggle").length||(u=!1,$(".menu-toggle span").addClass("fa-bars").removeClass("fa-times"),$(".menu").addClass("menu--hidden")):$(t.target).hasClass("menu")||$(t.target).parents(".menu").length||$(t.target).hasClass("menu-toggle")||$(t.target).parents(".menu-toggle").length||(u=!1,$(".menu-toggle span").addClass("fa-bars").removeClass("fa-times"),$(".places").css("transform","translateX("+d+"px)"))}),$("body").on("click","main",function(t){$(".filter-window.active").length&&($(t.target).hasClass("filter-window")||".filter-window"==$(t.target).attr("data-toggle-active")||".filter-window"==$(t.target).parents("button").attr("data-toggle-active")||$(t.target).parents(".filter-window").length||$(".filter-window").removeClass("active"))}),$("[data-toggle-active]").click(function(){$($(this).attr("data-toggle-active")).toggleClass("active")}),$("[data-add-active]").click(function(){$(this).attr("data-add-active-individual")&&$($(this).attr("data-add-active-individual")).removeClass("active"),$($(this).attr("data-add-active")).addClass("active")}),$("[data-scroll]").click(function(t){t.preventDefault();var e=$(this).parents(".sidebar__item");return e.length||(e=$(".overview")),"mobile"!=c?e.animate({scrollTop:e.scrollTop()+$($(this).attr("data-scroll")).offset().top-$(".place-menu--fixed").height()},500):e.animate({scrollTop:e.scrollTop()+$($(this).attr("data-scroll")).offset().top-$(".place-menu--fixed").height()-60},500),!1}),$(".place-menu").length){var H=$(".place-menu").not(".place-menu--fixed"),T=$(".place-menu--fixed"),N=H.offset().top;T.css("width",H.outerWidth()),"mobile"!=c?$(".overview").scroll(function(){$(".overview").scrollTop()>=N?T.hasClass("active")||T.addClass("active"):T.removeClass("active")}):$(".overview").scroll(function(){$(".overview").scrollTop()+58>=N?T.hasClass("active")||T.addClass("active"):T.removeClass("active")})}"desktop"!=c&&r(".grid-item--post",".grid-item--post",!0)});